{% extends 'layouts/base.html' %}

{% block title %}{{title}}{% endblock %}


{%block content%}
<div class="container">
    <br>
    <div class="row">
        <div class="col-lg-5 col-md-7 mx-auto my-auto">
            <div class="card">
                <div class="card-body px-lg-5 py-lg-5 text-center">
                    <form  method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{form.cover}}
                        <img id="addCover" for ='cover-form' src="{{cover}}" class="rounded-circle avatar-lg img-thumbnail mb-4" alt="profile-image">
                   
                    <h2 class="text-info">{{title}} Chatroom</h2>

                    <p class="mb-4">{{notice}}</p>
                  
                        <div class ="container">
                            {{ form.room_name }}
                            {{ form.password }}
                        </div>
                        <div class="text-center">
                            <button type="submit" class="btn bg-info btn-lg my-4">Continue</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{%endblock%}

{%block javascripts%}
<style type="text/css">
body{
    background:#eee;
}
.card {
    box-shadow: 0 20px 27px 0 rgb(0 0 0 / 5%);
}
.card {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 0 solid rgba(0,0,0,.125);
    border-radius: 1rem;
}
.img-thumbnail {
    padding: .25rem;
    background-color: #ecf2f5;
    border: 1px solid #dee2e6;
    border-radius: .25rem;
    max-width: 100%;
    height: auto;
}
.avatar-lg {
    height: 150px;
    width: 150px;
}

.input-cover {
    display: none;
}

#addCover {
    cursor: pointer;
}
</style>

<script type="text/javascript">

$("#addCover").click(function () {
  $("input[type='file']").trigger('click');
});

$('input[type="file"]').on('change', function() {
   var file = $(this).get(0).files[0];
 
    if(file){
        var reader = new FileReader();
        reader.onload = function(){
            $("#addCover").attr("src", reader.result);
        } 
        reader.readAsDataURL(file);
    }
});

</script>

{%endblock%}
